<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>default</title>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  </head>
  <body>
    
	<button href="###" class="ax-btn ax-icon" data-toggle="modal" data-target="#addModal">
	        <span class="ax-iconfont ax-icon-plus"></span>
	    </button>
	
    
	
	<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="addMyModalLabel">
	        <div class="modal-dialog" role="document">
	            <div class="modal-content">
	                <div class="modal-header">
	                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	                    <h4 class="modal-title" id="addMyModalLabel">增加</h4>
	                </div>
	                <div class="modal-body">
	
	
	                    <form id="addEmployee">
	                        <div class="form-group">
	                            <label>姓名</label>
	                            <input type="text" class="form-control empName" placeholder="empName" name="empName">
	                        </div>
	
	                        <div class="form-group">
	                            <label>性别</label>
	                            <div class="radio-inline">
	                                <label class="gender">
	                                    <input type="radio" name="gender" value="男" checked>
	                                    男
	                                </label>
	                            </div>
	                            <div class="radio-inline">
	                                <label class="gender">
	                                    <input type="radio" name="gender" value="女">
	                                    女
	                                </label>
	                            </div>
	                        </div>
	
	
	                        <div class="form-group">
	                            <label>邮箱</label>
	                            <input type="text" class="form-control email" placeholder="email" name="email">
	                        </div>
	                        <div class="form-group">
	                            <label>部门</label>
	                            <select class="form-control" id="selectDept" name="dId">
	                                <option value="1001">销售部</option>
	                                <option value="1002">开发部</option>
	                                <option value="1003">测试部</option>
	                            </select>
	                        </div>
	                    </form>
	
	
	                </div>
	                <div class="modal-footer">
	                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
	                    <button type="button" class="btn btn-primary" id="add_Emp_btn">Save changes</button>
	                </div>
	
	
	            </div>
	        </div>
	    </div>
	
	<script src="https://code.jquery.com/jquery-3.1.1.min.js" type="text/javascript"></script>
	<script src="http://static.runoob.com/assets/jquery-validation-1.14.0/dist/jquery.validate.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
	
	
	
	<script>
		
		$('#addModal').on('shown.bs.modal', function () {
		        $('#myInput').focus();
		
		    
		    })
		
		
		
		$(function(){
		
		
		
		
		        $("#addEmployee").validate({
		
		           rules:{
		               empName: {
		                   required: true,
		                   minLength: 2
		               },
		               gender:{
		                   required: true
		               },
		               email:{
		                   required: true,
		                   email: true
		               },
		               dId:{
		                   required: true,
		                   minLength: 3
		               },
		               messages:{
		                   empName: {
		                       required: "请输入姓名",
		                       minLength: "不合法"
		                   },
		                   gender:{
		                       required: "选择性别"
		                   },
		                   email:{
		                       required: "请输入邮箱",
		                       email: "请输入有效的电子邮件地址"
		                   },
		                   dId:{
		                       required: "请选择部门",
		                       minLength: "不合法"
		                   }
		               }
		           },
		            submitHandler:function(form){
		                $(form).ajaxSubmit({
		                    url:"http://localhost:8080/ssm_crud/saveEmp",
		                    type: "POST",
		                    data: $("#addEmployee").serialize(),
		                    success:function (result){
		
		                        layui.use('layer', function(){
		                            var layer = layui.layer;
		                            layer.msg(result.msgInfo);
		                        });
		
		                        $("#addModal").modal('hide');
		                        
		                    }
		                });
		            }

		
		        });
		
		    });
	</script>
  </body>
</html>
